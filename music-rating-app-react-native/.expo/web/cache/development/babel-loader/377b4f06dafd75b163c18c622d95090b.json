{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport * as SecureStore from 'expo-secure-store';\nexport default function authHeader() {\n  var user;\n  return _regeneratorRuntime.async(function authHeader$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.t0 = JSON;\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(SecureStore.getItemAsync(\"user\"));\n\n        case 4:\n          _context.t1 = _context.sent;\n          user = _context.t0.parse.call(_context.t0, _context.t1);\n          console.log(\"USER IS : \" + user);\n\n          if (!(user && user.token)) {\n            _context.next = 12;\n            break;\n          }\n\n          console.log(\"auth header: \" + user.token);\n          return _context.abrupt(\"return\", {\n            Authorization: 'JWT  ' + user.token\n          });\n\n        case 12:\n          return _context.abrupt(\"return\", {});\n\n        case 13:\n          _context.next = 18;\n          break;\n\n        case 15:\n          _context.prev = 15;\n          _context.t2 = _context[\"catch\"](0);\n          console.log(_context.t2);\n\n        case 18:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 15]], Promise);\n}","map":{"version":3,"sources":["/Users/kirylbeliauski/Documents/COMP SCI/software engineering/hw4/actual hw/music-rating-app-react-native/components/Auth-Header.js"],"names":["SecureStore","authHeader","JSON","getItemAsync","user","parse","console","log","token","Authorization"],"mappings":";AAAA,OAAO,KAAKA,WAAZ,MAA6B,mBAA7B;AAEA,eAAe,SAAeC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAEEC,IAFF;AAAA;AAAA,2CAEmBF,WAAW,CAACG,YAAZ,CAAyB,MAAzB,CAFnB;;AAAA;AAAA;AAELC,UAAAA,IAFK,eAEOC,KAFP;AAGXC,UAAAA,OAAO,CAACC,GAAR,CAAY,eAAeH,IAA3B;;AAHW,gBAKPA,IAAI,IAAIA,IAAI,CAACI,KALN;AAAA;AAAA;AAAA;;AAMTF,UAAAA,OAAO,CAACC,GAAR,CAAY,kBAAkBH,IAAI,CAACI,KAAnC;AANS,2CAOF;AAAEC,YAAAA,aAAa,EAAG,UAAUL,IAAI,CAACI;AAAjC,WAPE;;AAAA;AAAA,2CASG,EATH;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAaXF,UAAAA,OAAO,CAACC,GAAR;;AAbW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import * as SecureStore from 'expo-secure-store';\n\nexport default async function authHeader() {\n  try {\n    const user = JSON.parse(await SecureStore.getItemAsync(\"user\"));\n    console.log(\"USER IS : \" + user)\n\n    if (user && user.token) {\n      console.log(\"auth header: \" + user.token)\n      return { Authorization : 'JWT  ' + user.token };\n\n    } else return {};\n\n\n  } catch(e) {\n    console.log(e);\n  }\n  \n}\n"]},"metadata":{},"sourceType":"module"}