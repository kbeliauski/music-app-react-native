{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport { StackActions, useTheme } from '@react-navigation/native';\nimport * as React from 'react';\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport AppContainer from 'react-native/Libraries/ReactNative/AppContainer';\nimport { Screen as ScreenComponent, ScreenStack } from 'react-native-screens';\nimport HeaderConfig from \"./HeaderConfig\";\nvar Screen = ScreenComponent;\nvar isAndroid = Platform.OS === 'android';\nvar Container = View;\n\nif (__DEV__) {\n  var DebugContainer = function DebugContainer(props) {\n    var stackPresentation = props.stackPresentation,\n        rest = _objectWithoutProperties(props, [\"stackPresentation\"]);\n\n    if (Platform.OS === 'ios' && stackPresentation !== 'push') {\n      return React.createElement(AppContainer, null, React.createElement(View, rest));\n    }\n\n    return React.createElement(View, rest);\n  };\n\n  Container = DebugContainer;\n}\n\nexport default function NativeStackView(_ref) {\n  var state = _ref.state,\n      navigation = _ref.navigation,\n      descriptors = _ref.descriptors;\n  var key = state.key,\n      routes = state.routes;\n\n  var _useTheme = useTheme(),\n      colors = _useTheme.colors;\n\n  return React.createElement(ScreenStack, {\n    style: styles.container\n  }, routes.map(function (route) {\n    var _descriptors$route$ke = descriptors[route.key],\n        options = _descriptors$route$ke.options,\n        renderScene = _descriptors$route$ke.render;\n    var gestureEnabled = options.gestureEnabled,\n        _options$replaceAnima = options.replaceAnimation,\n        replaceAnimation = _options$replaceAnima === void 0 ? 'pop' : _options$replaceAnima,\n        _options$stackPresent = options.stackPresentation,\n        stackPresentation = _options$stackPresent === void 0 ? 'push' : _options$stackPresent,\n        stackAnimation = options.stackAnimation,\n        contentStyle = options.contentStyle;\n    var viewStyles = [styles.container, stackPresentation !== 'transparentModal' && {\n      backgroundColor: colors.background\n    }, contentStyle];\n    return React.createElement(Screen, {\n      key: route.key,\n      style: StyleSheet.absoluteFill,\n      gestureEnabled: isAndroid ? false : gestureEnabled,\n      replaceAnimation: replaceAnimation,\n      stackPresentation: stackPresentation,\n      stackAnimation: stackAnimation,\n      onWillAppear: function onWillAppear() {\n        navigation.emit({\n          type: 'transitionStart',\n          data: {\n            closing: false\n          },\n          target: route.key\n        });\n      },\n      onWillDisappear: function onWillDisappear() {\n        navigation.emit({\n          type: 'transitionStart',\n          data: {\n            closing: true\n          },\n          target: route.key\n        });\n      },\n      onAppear: function onAppear() {\n        navigation.emit({\n          type: 'appear',\n          target: route.key\n        });\n        navigation.emit({\n          type: 'transitionEnd',\n          data: {\n            closing: false\n          },\n          target: route.key\n        });\n      },\n      onDisappear: function onDisappear() {\n        navigation.emit({\n          type: 'transitionEnd',\n          data: {\n            closing: true\n          },\n          target: route.key\n        });\n      },\n      onDismissed: function onDismissed() {\n        navigation.emit({\n          type: 'dismiss',\n          target: route.key\n        });\n        navigation.dispatch(_objectSpread(_objectSpread({}, StackActions.pop()), {}, {\n          source: route.key,\n          target: key\n        }));\n      }\n    }, React.createElement(HeaderConfig, _extends({}, options, {\n      route: route\n    })), React.createElement(Container, {\n      style: viewStyles,\n      stackPresentation: stackPresentation\n    }, renderScene()));\n  }));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  }\n});","map":{"version":3,"sources":["NativeStackView.tsx"],"names":["Screen","isAndroid","Platform","Container","DebugContainer","props","rest","stackPresentation","descriptors","routes","colors","useTheme","styles","container","route","render","renderScene","replaceAnimation","contentStyle","viewStyles","backgroundColor","background","StyleSheet","navigation","type","data","closing","target","key","StackActions","source","flex"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAAA,YAAA,EAAA,QAAA,QAAA,0BAAA;AAMA,OAAO,KAAP,KAAA,MAAA,OAAA;;;;AAGA,OAAA,YAAA,MAAA,iDAAA;AACA,SACEA,MAAM,IADR,eAAA,EAAA,WAAA,QAAA,sBAAA;AAUA,OAAA,YAAA;AAEA,IAAMA,MAAM,GAAZ,eAAA;AACA,IAAMC,SAAS,GAAGC,QAAQ,CAARA,EAAAA,KAAlB,SAAA;AAEA,IAAIC,SAAS,GAAb,IAAA;;AAEA,IAAA,OAAA,EAAa;AACX,MAAMC,cAAc,GAClBC,SADID,cACJC,CAAAA,KADqB,EAElB;AACH,QAAM,iBAAN,GAAA,KAAA,CAAM,iBAAN;AAAA,QAA8BC,IAA9B,4BAAA,KAAA;;AACA,QAAIJ,QAAQ,CAARA,EAAAA,KAAAA,KAAAA,IAAyBK,iBAAiB,KAA9C,MAAA,EAA2D;AACzD,aACE,KAAA,CAAA,aAAA,CAAA,YAAA,EAAA,IAAA,EACE,KAAA,CAAA,aAAA,CAAA,IAAA,EAFJ,IAEI,CADF,CADF;AAKD;;AACD,WAAO,KAAA,CAAA,aAAA,CAAA,IAAA,EAAP,IAAO,CAAP;AAZS,GACX;;AAcAJ,EAAAA,SAAS,GAATA,cAAAA;AACD;;AAQD,eAAe,SAAA,eAAA,OAIQ;AAAA,MAJiB,KAIjB,QAJiB,KAIjB;AAAA,MAJiB,UAIjB,QAJiB,UAIjB;AAAA,MADrBK,WACqB,QADrBA,WACqB;AACrB,MAAM,GAAN,GAAA,KAAA,CAAM,GAAN;AAAA,MAAaC,MAAb,GAAA,KAAA,CAAaA,MAAb;;AACA,kBAAmBE,QAAnB,EAAA;AAAA,MAAQD,MAAR,aAAQA,MAAR;;AAEA,SACE,KAAA,CAAA,aAAA,CAAA,WAAA,EAAA;AAAa,IAAA,KAAK,EAAEE,MAAM,CAACC;AAA3B,GAAA,EACG,MAAM,CAAN,GAAA,CAAYC,UAAAA,KAAD,EAAW;AACrB,gCAAyCN,WAAW,CAACM,KAAK,CAA1D,GAAoD,CAApD;AAAA,QAAM,OAAN,yBAAM,OAAN;AAAA,QAAyBE,WAAzB,yBAAiBD,MAAjB;AACA,QAAM,cAAN,GAAA,OAAA,CAAM,cAAN;AAAA,gCAAA,OAAA,CAEEE,gBAFF;AAAA,QAEEA,gBAFF,sCAAM,KAAN;AAAA,gCAAA,OAAA,CAGEV,iBAHF;AAAA,QAGEA,iBAHF,sCAAM,MAAN;AAAA,QAAM,cAAN,GAAA,OAAA,CAAM,cAAN;AAAA,QAKEW,YALF,GAAA,OAAA,CAKEA,YALF;AAQA,QAAMC,UAAU,GAAG,CACjBP,MAAM,CADW,SAAA,EAEjBL,iBAAiB,KAAjBA,kBAAAA,IAA4C;AAC1Ca,MAAAA,eAAe,EAAEV,MAAM,CAACW;AADkB,KAF3B,EAAnB,YAAmB,CAAnB;AAQA,WACE,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,MAAA,GAAG,EAAEP,KAAK,CADZ,GAAA;AAEE,MAAA,KAAK,EAAEQ,UAAU,CAFnB,YAAA;AAGE,MAAA,cAAc,EAAErB,SAAS,GAAA,KAAA,GAH3B,cAAA;AAIE,MAAA,gBAAgB,EAJlB,gBAAA;AAKE,MAAA,iBAAiB,EALnB,iBAAA;AAME,MAAA,cAAc,EANhB,cAAA;AAOE,MAAA,YAAY,EAAE,wBAAM;AAClBsB,QAAAA,UAAU,CAAVA,IAAAA,CAAgB;AACdC,UAAAA,IAAI,EADU,iBAAA;AAEdC,UAAAA,IAAI,EAAE;AAAEC,YAAAA,OAAO,EAAE;AAAX,WAFQ;AAGdC,UAAAA,MAAM,EAAEb,KAAK,CAACc;AAHA,SAAhBL;AARJ,OAAA;AAcE,MAAA,eAAe,EAAE,2BAAM;AACrBA,QAAAA,UAAU,CAAVA,IAAAA,CAAgB;AACdC,UAAAA,IAAI,EADU,iBAAA;AAEdC,UAAAA,IAAI,EAAE;AAAEC,YAAAA,OAAO,EAAE;AAAX,WAFQ;AAGdC,UAAAA,MAAM,EAAEb,KAAK,CAACc;AAHA,SAAhBL;AAfJ,OAAA;AAqBE,MAAA,QAAQ,EAAE,oBAAM;AACdA,QAAAA,UAAU,CAAVA,IAAAA,CAAgB;AACdC,UAAAA,IAAI,EADU,QAAA;AAEdG,UAAAA,MAAM,EAAEb,KAAK,CAACc;AAFA,SAAhBL;AAIAA,QAAAA,UAAU,CAAVA,IAAAA,CAAgB;AACdC,UAAAA,IAAI,EADU,eAAA;AAEdC,UAAAA,IAAI,EAAE;AAAEC,YAAAA,OAAO,EAAE;AAAX,WAFQ;AAGdC,UAAAA,MAAM,EAAEb,KAAK,CAACc;AAHA,SAAhBL;AA1BJ,OAAA;AAgCE,MAAA,WAAW,EAAE,uBAAM;AACjBA,QAAAA,UAAU,CAAVA,IAAAA,CAAgB;AACdC,UAAAA,IAAI,EADU,eAAA;AAEdC,UAAAA,IAAI,EAAE;AAAEC,YAAAA,OAAO,EAAE;AAAX,WAFQ;AAGdC,UAAAA,MAAM,EAAEb,KAAK,CAACc;AAHA,SAAhBL;AAjCJ,OAAA;AAuCE,MAAA,WAAW,EAAE,uBAAM;AACjBA,QAAAA,UAAU,CAAVA,IAAAA,CAAgB;AACdC,UAAAA,IAAI,EADU,SAAA;AAEdG,UAAAA,MAAM,EAAEb,KAAK,CAACc;AAFA,SAAhBL;AAKAA,QAAAA,UAAU,CAAVA,QAAAA,iCACKM,YAAY,CADG,GACfA,EADLN;AAEEO,UAAAA,MAAM,EAAEhB,KAAK,CAFK,GAApBS;AAGEI,UAAAA,MAAM,EAAEC;AAHVL;AAKD;AAlDH,KAAA,EAmDE,KAAA,CAAA,aAAA,CAAA,YAAA,EAAA,QAAA,CAAA,EAAA,EAAA,OAAA,EAAA;AAA2B,MAAA,KAAK,EAAET;AAAlC,KAAA,CAAA,CAnDF,EAoDE,KAAA,CAAA,aAAA,CAAA,SAAA,EAAA;AACE,MAAA,KAAK,EADP,UAAA;AAGE,MAAA,iBAAiB,EAAEP;AAHrB,KAAA,EAIGS,WAzDP,EAqDI,CApDF,CADF;AApBN,GAEK,CADH,CADF;AAoFD;AAED,IAAMJ,MAAM,GAAG,UAAU,CAAV,MAAA,CAAkB;AAC/BC,EAAAA,SAAS,EAAE;AACTkB,IAAAA,IAAI,EAAE;AADG;AADoB,CAAlB,CAAf","sourcesContent":["import {\n  ParamListBase,\n  StackActions,\n  StackNavigationState,\n  useTheme,\n} from '@react-navigation/native';\nimport * as React from 'react';\nimport { Platform, StyleSheet, View, ViewProps } from 'react-native';\n// @ts-ignore Getting private component\nimport AppContainer from 'react-native/Libraries/ReactNative/AppContainer';\nimport {\n  Screen as ScreenComponent,\n  ScreenProps,\n  ScreenStack,\n  StackPresentationTypes,\n} from 'react-native-screens';\nimport {\n  NativeStackDescriptorMap,\n  NativeStackNavigationHelpers,\n} from '../types';\nimport HeaderConfig from './HeaderConfig';\n\nconst Screen = (ScreenComponent as unknown) as React.ComponentType<ScreenProps>;\nconst isAndroid = Platform.OS === 'android';\n\nlet Container = View;\n\nif (__DEV__) {\n  const DebugContainer = (\n    props: ViewProps & { stackPresentation: StackPresentationTypes }\n  ) => {\n    const { stackPresentation, ...rest } = props;\n    if (Platform.OS === 'ios' && stackPresentation !== 'push') {\n      return (\n        <AppContainer>\n          <View {...rest} />\n        </AppContainer>\n      );\n    }\n    return <View {...rest} />;\n  };\n  // @ts-ignore Wrong props\n  Container = DebugContainer;\n}\n\ntype Props = {\n  state: StackNavigationState<ParamListBase>;\n  navigation: NativeStackNavigationHelpers;\n  descriptors: NativeStackDescriptorMap;\n};\n\nexport default function NativeStackView({\n  state,\n  navigation,\n  descriptors,\n}: Props): JSX.Element {\n  const { key, routes } = state;\n  const { colors } = useTheme();\n\n  return (\n    <ScreenStack style={styles.container}>\n      {routes.map((route) => {\n        const { options, render: renderScene } = descriptors[route.key];\n        const {\n          gestureEnabled,\n          replaceAnimation = 'pop',\n          stackPresentation = 'push',\n          stackAnimation,\n          contentStyle,\n        } = options;\n\n        const viewStyles = [\n          styles.container,\n          stackPresentation !== 'transparentModal' && {\n            backgroundColor: colors.background,\n          },\n          contentStyle,\n        ];\n\n        return (\n          <Screen\n            key={route.key}\n            style={StyleSheet.absoluteFill}\n            gestureEnabled={isAndroid ? false : gestureEnabled}\n            replaceAnimation={replaceAnimation}\n            stackPresentation={stackPresentation}\n            stackAnimation={stackAnimation}\n            onWillAppear={() => {\n              navigation.emit({\n                type: 'transitionStart',\n                data: { closing: false },\n                target: route.key,\n              });\n            }}\n            onWillDisappear={() => {\n              navigation.emit({\n                type: 'transitionStart',\n                data: { closing: true },\n                target: route.key,\n              });\n            }}\n            onAppear={() => {\n              navigation.emit({\n                type: 'appear',\n                target: route.key,\n              });\n              navigation.emit({\n                type: 'transitionEnd',\n                data: { closing: false },\n                target: route.key,\n              });\n            }}\n            onDisappear={() => {\n              navigation.emit({\n                type: 'transitionEnd',\n                data: { closing: true },\n                target: route.key,\n              });\n            }}\n            onDismissed={() => {\n              navigation.emit({\n                type: 'dismiss',\n                target: route.key,\n              });\n\n              navigation.dispatch({\n                ...StackActions.pop(),\n                source: route.key,\n                target: key,\n              });\n            }}>\n            <HeaderConfig {...options} route={route} />\n            <Container\n              style={viewStyles}\n              // @ts-ignore Wrong props passed to View\n              stackPresentation={stackPresentation}>\n              {renderScene()}\n            </Container>\n          </Screen>\n        );\n      })}\n    </ScreenStack>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}